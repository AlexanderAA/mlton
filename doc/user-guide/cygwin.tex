\sec{Running on Cygwin/Windows}{cygwin}

{\mlton} uses the \htmladdnormallink{Cygwin}{http://www.cygwin.com/} emulation
layer to provide a Posix-like environment while running on a Windows machine.
To run {\mlton}, you must first install Cygwin on your machine.  To do this,
visit the Cygwin site from your Windows machine and run their {\tt setup.exe}
script.  Due to some recent bugfixes in the Cygwin dll, you must use version
1.3.11 or later.  As of this writing, that version does not exist, so you must
use a Cygwin developer snapshot from 2002-Mar-16 or later.

{\mlton} under Cygwin mostly behaves like {\mlton} under Linux.  There are,
however, a few missing features and known problems.

\begin{enumerate}

\item Profiling is disabled.

\item Due to several bugs in Cygwin's emulation of {\tt fork}, {\tt
Posix.Process.fork} is disabled.  Any use of {\tt fork} will raise
{\tt OS.SysErr}.  For idiomatic uses of {\tt fork} plus {\tt exec},
you can instead use the {\tt MLton.Process.spawn} family of functions, which
work on both Cygwin and Linux.

\item There are problems with {\tt mmap}ing large amounts of memory that may
cause programs with large heaps to fail.  Hopefully, the runtime will produce a
valid error message (``out of memor'') in this case, but, unfortunately, I have
seen segfaults as well.

\item I have seen some strangeness in Cygwin's emulation of signals and
signal handlers, but have not been able to pin it down.

\end{enumerate}

If you notice any of these problems, or others, and especially if you can
provide help, please report them to {\mltonmail}.

\input{cross-compiling}
