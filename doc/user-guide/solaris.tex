\subsec{Running on {\sparc}/Solaris}{solaris}

Here are some things that may affect performance on Sparc.
\begin{itemize}

\item
When compiling for Sparc, {\mlton} only supports the C code generator
({\tt -native false}).  Hence, performance is not as good as it might
be and compile times are longer.  Also, the quality of code generated
by {\tt gcc} is important.  By default, {\mlton} calls {\tt gcc -O1}.
You can change this by calling {\mlton} with {\tt -cc-opt -O2}.  We
have seen this speed up some programs by as much as 30\%, especially
those involving floating point; however, it can also more than double
compile times.

\item
When compiling for Sparc, {\mlton} uses {\tt -align 8} by default.
While this speeds up reals, it also may increase object sizes.  If
your program does not make significant use of reals, you might see a
speedup with {\tt -align 4}.

\end{itemize}
Here are the known problems building {\mlton} on Sparc/Solaris.

\begin{itemize}

\item You must install the {\tt binutils}, {\tt gcc}, and {\tt make}
packages.  You can find out how to get these at
\htmladdnormallink{sunfreeware.com}{http://www.sunfreeware.com}.

\item Making the documentation requires that you install {\tt latex}
and {\tt dvips}, which are available in the {\tt tetex} package.  It
also requires {\tt hevea}, for which we haven't yet tracked down a
package.

\item Bootstrapping is so slow as to be impractical (many hours on a
500MhZ UltraSparc).  For this reason, we strongly recommend building
with a Linux to Solaris cross compiler (\secref{cross-compiling}).

\end{itemize}
