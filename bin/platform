#!/usr/bin/env bash

set -e

name=`basename $0`
dir=`dirname $0`
bin=`cd $dir && pwd`

die () {
	echo >&2 "$1"
	exit 1
}

usage () {
	die "usage: $name"
}

case "$#" in
0)
;;
*)
	usage
;;
esac

uname=`uname`

case "$uname" in
CYGWIN*)
	HOST_OS='cygwin'
;;
Darwin)
	HOST_OS='darwin'
;;
FreeBSD*)
	HOST_OS='freebsd'
;;
Linux)
	HOST_OS='linux'
;;
MINGW*)
	HOST_OS='mingw'
;;
NetBSD*)
	HOST_OS='netbsd'
;;
OpenBSD*)
	HOST_OS='openbsd'
;;
SunOS)
	HOST_OS='solaris'
;;
*)
	die "Unknown OS $uname."
;;
esac

arch=`uname -m`

case "$arch" in
i?86)
	HOST_ARCH=x86
;;
Power*)
	HOST_ARCH=powerpc
;;
sun*)
	HOST_ARCH=sparc
;;
*)
	die "Unknown arch $arch."
;;
esac

echo "HOST_OS=$HOST_OS HOST_ARCH=$HOST_ARCH"
